<div>
  <h1 class="text-center p-4">USUARIOS</h1>
</div>

<div class="container">
  <div class="row">
    @for (user of arrUsers; track user._id) {
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-3 d-flex">
        <div class="card border border-dark border-4 rounded-5 d-flex flex-column h-100">
          <img [src]="user.image" class="card-img-top border border-dark border-4 rounded-circle"
               alt="Imagen de {{ user.first_name }} {{ user.last_name }}"
               style="width: 100px; height: 100px; object-fit: cover; margin: 20px auto;">
          <hr class="line">
          <div class="card-body text-center d-flex flex-column justify-content-between">
            <h5 class="card-title">{{ user.first_name }} {{ user.last_name }}</h5>
            <div class="mt-3 d-flex justify-content-center">
              <button class="btn btn-outline-secondary me-1"
                      [routerLink]="['/user', user._id]">
                Ver Detalle
              </button>
              <button class="btn btn-outline-secondary me-1"
                      [routerLink]="['/updateuser', user._id]">
                Actualizar
              </button>
              <button class="btn btn-outline-danger"
                      (click)="deleteUser(user._id)">
                Borrar
              </button>
            </div>
          </div>
        </div>
      </div>
    } @empty {
      <div class="col-12">
        <p class="text-center">No hay usuarios disponibles.</p>
      </div>
    }
  </div>

  <!-- Paginación Bootstrap -->
  <nav aria-label="Paginación de usuarios" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="prevPage()">Anterior</button>
      </li>
      
      <li class="page-item disabled">
        <span class="page-link">Página {{ currentPage }} de {{ totalPages }}</span>
      </li>

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="nextPage()">Siguiente</button>
      </li>
    </ul>
  </nav>
</div>
